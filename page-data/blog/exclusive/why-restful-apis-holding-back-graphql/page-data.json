{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/exclusive/why-restful-apis-holding-back-graphql/","result":{"data":{"site":{"siteMetadata":{"title":"Code Your Future | Preston Wallace | Dev Rocket"}},"markdownRemark":{"id":"2ca110ea-4bc5-5210-8a7e-f96cd14633bb","excerpt":"RESTful APIs have been the standard for building APIs for a long time, but they have their limitations. As APIs become more complex and dynamic, RESTful APIsâ€¦","html":"<p><strong>RESTful APIs have been the standard for building APIs for a long time</strong>, but they have their limitations. As APIs become more complex and dynamic, RESTful APIs can become difficult to maintain and optimize. That's where GraphQL comes in.</p>\n<p>GraphQL is a query language for APIs that was developed by Facebook. It provides a more efficient and powerful alternative to traditional RESTful APIs. Let's take a closer look at some of the flaws of RESTful APIs and how GraphQL addresses them.</p>\n<h2>1. Overfetching and Underfetching</h2>\n<p>One of the biggest flaws of RESTful APIs is overfetching and underfetching.</p>\n<p>Let's say you have a RESTful API for a pizza delivery service. You want to retrieve a list of pizzas with their toppings, but with RESTful APIs you have to make two separate requests to get this information.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># RESTful API example</span>\nGET /pizzas\n<span class=\"token comment\"># Returns an array of pizza objects with their ids</span>\n\nGET /pizzas/<span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">}</span>/toppings\n<span class=\"token comment\"># Returns an array of toppings for the specified pizza id</span>\n</code></pre></div>\n<p>This can result in overfetching (getting more data than you need) and underfetching (having to make multiple requests to get all the data you need).</p>\n<p>Now, let's compare this to a GraphQL query:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token comment\"># GraphQL example</span>\n<span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token object\">pizzas</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">id</span>\n    <span class=\"token property\">toppings</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This single query retrieves all the data you need in one go. No more overfetching or underfetching!</p>\n<h2>2. Multiple Endpoints</h2>\n<p>Another flaw of RESTful APIs is that you often have to make multiple requests to different endpoints to get all the data you need. This can make your API more complex and difficult to maintain.</p>\n<p>With GraphQL, you can get all the data you need in a single request, regardless of where the data is stored. This simplifies your API and makes it easier to maintain.</p>\n<p>Suppose we have the following RESTful endpoints:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">GET /pizzas - to get all the available pizzas\nGET /toppings - to get all the available toppings\nGET /orders - to get all the pizza orders</code></pre></div>\n<p>In GraphQL, we can create a single query that retrieves data from all three endpoints:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token object\">pizzas</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">id</span>\n    <span class=\"token property\">name</span>\n    <span class=\"token property\">price</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token object\">toppings</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">id</span>\n    <span class=\"token property\">name</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token object\">orders</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">id</span>\n    <span class=\"token property\">customerName</span>\n    <span class=\"token object\">pizza</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">id</span>\n      <span class=\"token property\">name</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token object\">toppings</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">id</span>\n      <span class=\"token property\">name</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>3. Versioning</h2>\n<p>Another issue with RESTful APIs is versioning. When you make changes to your API, you often have to create a new version, which can result in a lot of redundant code and extra work.</p>\n<p>With GraphQL, you can add new fields to your schema without breaking existing queries. This means you can evolve your API over time without the need for versioning.</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token comment\"># GraphQL schema example</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Pizza</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">toppings</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">size</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">pizzas</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Pizza</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># New field added to the schema</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Pizza</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">toppings</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">size</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">isVegetarian</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Boolean</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">calories</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Int</span><span class=\"token operator\">!</span> // <span class=\"token property\">New</span> <span class=\"token property\">field</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>In this example, we added a new <code class=\"language-text\">calories</code> field to the <code class=\"language-text\">Pizza</code> type without breaking any existing queries. This makes it easier to evolve your API over time, without the need for versioning.</p>\n<h2>4. Documentation</h2>\n<p>Finally, documentation can be a challenge with RESTful APIs. With so many endpoints and resources, it can be difficult to keep track of everything.</p>\n<p>With GraphQL, your schema serves as a self-documenting contract between your API and your clients. You can see from the below schema that it already describes what the different types and fields represent for your pizza ordering system:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Pizza</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">price</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Float</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Topping</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Order</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">customerName</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">pizza</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Pizza</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">toppings</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Topping</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">pizzas</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Pizza</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">toppings</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Topping</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">orders</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Order</span><span class=\"token operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre></div>\n<p>With RESTful APIs, you would have to update your documentation manually to reflect this change. But in this schema, we define three types (<code class=\"language-text\">Pizza</code>, <code class=\"language-text\">Topping</code>, and <code class=\"language-text\">Order</code>) and three queries (<code class=\"language-text\">pizzas</code>, <code class=\"language-text\">toppings</code>, and <code class=\"language-text\">orders</code>). The types define the structure of the data returned by the API, and the queries define the ways in which the data can be retrieved.</p>\n<p>By defining a schema like this, we have provided a single source of truth for the API, which makes it easy for developers to understand how to use the API and what data they can expect to receive. Additionally, tools like GraphiQL can use the schema to provide a rich development environment with auto-complete, validation, and documentation.</p>\n<p>In conclusion, while RESTful APIs have been the standard for a long time, they have their flaws. GraphQL provides a more efficient and powerful alternative, allowing you to build APIs that are faster, more flexible, and easier to maintain. If you haven't already, it's time to switch to GraphQL!</p>","frontmatter":{"title":"Why RESTful APIs are Holding You Back","date":null,"description":"Embrace the Future with GraphQL","featuredImage":null,"type":"exclusive","youTubeVideo":"https://www.youtube.com/embed/WrbEJ3cpKK4?&controls=0"}},"previous":{"fields":{"slug":"/blog/2023/04/typescript-interfaces/"},"frontmatter":{"title":"Harnessing the Power of TypeScript Interfaces - A Guide for Developers"}},"next":{"fields":{"slug":"/blog/exclusive/ultimate-terminal-cheatsheet/"},"frontmatter":{"title":"The Ultimate Terminal Cheatsheet - Your Key to Command Line Productivity"}}},"pageContext":{"id":"2ca110ea-4bc5-5210-8a7e-f96cd14633bb","previousPostId":"ce7f07a4-fd7d-540c-bd6b-452dfb98774a","nextPostId":"1ca8932c-e563-5613-8a46-0f3cc6f2a23d"}},"staticQueryHashes":["2841359383","2944715102"],"slicesMap":{}}